<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Batman Where art thou? - Survey</title>
    <link href="https://fonts.googleapis.com/css?family=Black+Han+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Asap|Black+Han+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/reset.css" />
    <link rel="stylesheet" href="/assets/css/survey.css" />
    <link rel="shortcut icon" type="image/png" href="/assets/images/friendFavicon.png">
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
        crossorigin="anonymous"></script>
    <!-- <script type="text/javascript">
        $(window).on('load',function(){
            $('#modal').modal('hide');
        });
    </script> -->
</head>

<body>
    <!-- -------------------- HEADER --------------------- -->
    <div id="survey">
        <header>
            <h1>Friend Finder</h1>
            <h2>Survey</h2>
            <p>
                Answer the questions below and we'll help find your new friend from the Batman universe!
            </p>
            <hr />
        </header>
        <!--
        -------------------- SECTION - USER INFORMATION ---------------------
      -->
        <section id="about">
            <h3>About You</h3>
            <h4>Name (Required)</h4>
            <input type="text" id="name" class="form-control" required="" />
            <!-- <input type="text" id="name"> -->
            <h4>Link to Photo Image (Required)</h4>
            <input type="text" id="photo" class="form-control" required="" />
            <hr />
        </section>
        <!-- -------------------- SECTION - QUESTIONS --------------------- -->
        <section id="question">
            <!-- --------------------  QUESTION 1  --------------------- -->
            <!-- <form name="survey" osubmit="return onSubmit()"> -->
            <form name="survey">
                <div class="question">
                    <h4>Question 1:</h4>
                    <h5>
                        You tend to like Dark places like caves.
                    </h5>
                    <div class="survey-buttons">
                        <label>1 <span class="clarify-agree"><img src="/assets/images/thumbsDown.png"></span>
                            <input type="radio" name="q1" value="1"></input>
                        </label>
                        <label>2
                            <input type="radio" name="q1" value="2"></input>
                        </label>
                        <label>3
                            <input type="radio" name="q1" value="3"></input>
                        </label>
                        <label>4
                            <input type="radio" name="q1" value="4"></input>
                        </label>
                        <label>5 <span class="clarify-agree"><img src="/assets/images/thumbsUp.png"></span>
                            <input type="radio" name="q1" value="5"></input>
                        </label>
                    </div>
                </div>
                <hr />
                <!-- --------------------  QUESTION 2  --------------------- -->

                <div class="question">
                    <h4>Question 2:</h4>
                    <h5>
                        You love to wear the color black.
                    </h5>
                    <div class="survey-buttons">
                        <label>1 <span class="clarify-agree"><img src="/assets/images/thumbsDown.png"></span>
                            <input type="radio" name="q2" value="1"></input>
                        </label>
                        <label>2
                            <input type="radio" name="q2" value="2"></input>
                        </label>
                        <label>3
                            <input type="radio" name="q2" value="3"></input>
                        </label>
                        <label>4
                            <input type="radio" name="q2" value="4"></input>
                        </label>
                        <label>5 <span class="clarify-agree"><img src="/assets/images/thumbsUp.png"></span>
                            <input type="radio" name="q2" value="5"></input>
                        </label>
                    </div>
                </div>
                <hr />
                <!-- --------------------  QUESTION 3  --------------------- -->

                <div class="question">
                    <h4>Question 3:</h4>
                    <h5>
                        You are very interested in new technologies.
                    </h5>
                    <div class="survey-buttons">
                        <label>1 <span class="clarify-agree"><img src="/assets/images/thumbsDown.png"></span>
                            <input type="radio" name="q3" value="1"></input>
                        </label>
                        <label>2
                            <input type="radio" name="q3" value="2"></input>
                        </label>
                        <label>3
                            <input type="radio" name="q3" value="3"></input>
                        </label>
                        <label>4
                            <input type="radio" name="q3" value="4"></input>
                        </label>
                        <label>5 <span class="clarify-agree"><img src="/assets/images/thumbsUp.png"></span>
                            <input type="radio" name="q3" value="5"></input>
                        </label>
                    </div>
                </div>
                <hr />
                <!-- --------------------  QUESTION 4  --------------------- -->

                <div class="question">
                    <h4>Question 4:</h4>
                    <h5>
                        You like it when your voice is raspy.
                    </h5>
                    <div class="survey-buttons">
                        <label>1 <span class="clarify-agree"><img src="/assets/images/thumbsDown.png"></span>
                            <input type="radio" name="q4" value="1"></input>
                        </label>
                        <label>2
                            <input type="radio" name="q4" value="2"></input>
                        </label>
                        <label>3
                            <input type="radio" name="q4" value="3"></input>
                        </label>
                        <label>4
                            <input type="radio" name="q4" value="4"></input>
                        </label>
                        <label>5 <span class="clarify-agree"><img src="/assets/images/thumbsUp.png"></span>
                            <input type="radio" name="q4" value="5"></input>
                        </label>
                    </div>
                </div>
                <hr />
                <!-- --------------------  QUESTION 5  --------------------- -->

                <div class="question">
                    <h4>Question 5:</h4>
                    <h5>
                        You enjoy showing up in a discreet manor.
                    </h5>
                    <div class="survey-buttons">
                        <label>1 <span class="clarify-agree"><img src="/assets/images/thumbsDown.png"></span>
                            <input type="radio" name="q5" value="1"></input>
                        </label>
                        <label>2
                            <input type="radio" name="q5" value="2"></input>
                        </label>
                        <label>3
                            <input type="radio" name="q5" value="3"></input>
                        </label>
                        <label>4
                            <input type="radio" name="q5" value="4"></input>
                        </label>
                        <label>5 <span class="clarify-agree"><img src="/assets/images/thumbsUp.png"></span>
                            <input type="radio" name="q5" value="5"></input>
                        </label>
                    </div>
                </div>
                <hr />
                <!-- --------------------  QUESTION 6  --------------------- -->

                <div class="question">
                    <h4>Question 6:</h4>
                    <h5>
                        You like living in a Manor.
                    </h5>
                    <div class="survey-buttons">
                        <label>1 <span class="clarify-agree"><img src="/assets/images/thumbsDown.png"></span>
                            <input type="radio" name="q6" value="1"></input>
                        </label>
                        <label>2
                            <input type="radio" name="q6" value="2"></input>
                        </label>
                        <label>3
                            <input type="radio" name="q6" value="3"></input>
                        </label>
                        <label>4
                            <input type="radio" name="q6" value="4"></input>
                        </label>
                        <label>5 <span class="clarify-agree"><img src="/assets/images/thumbsUp.png"></span>
                            <input type="radio" name="q6" value="5"></input>
                        </label>
                    </div>
                </div>
                <hr />
                <!-- --------------------  QUESTION 7  --------------------- -->

                <div class="question">
                    <h4>Question 7:</h4>
                    <h5>
                        You have a butler who cares for you like no other.
                    </h5>
                    <div class="survey-buttons">
                        <label>1 <span class="clarify-agree"><img src="/assets/images/thumbsDown.png"></span>
                            <input type="radio" name="q7" value="1"></input>
                        </label>
                        <label>2
                            <input type="radio" name="q7" value="2"></input>
                        </label>
                        <label>3
                            <input type="radio" name="q7" value="3"></input>
                        </label>
                        <label>4
                            <input type="radio" name="q7" value="4"></input>
                        </label>
                        <label>5 <span class="clarify-agree"><img src="/assets/images/thumbsUp.png"></span>
                            <input type="radio" name="q7" value="5"></input>
                        </label>
                    </div>
                </div>
                <hr />

                <!-- --------------------  QUESTION 8  --------------------- -->

                <div class="question">
                    <h4>Question 8:</h4>
                    <h5>
                        You're like to make jokes all the time.
                    </h5>
                    <div class="survey-buttons">
                        <label>1 <span class="clarify-agree"><img src="/assets/images/thumbsDown.png"></span>
                            <input type="radio" name="q8" value="1"></input>
                        </label>
                        <label>2
                            <input type="radio" name="q8" value="2"></input>
                        </label>
                        <label>3
                            <input type="radio" name="q8" value="3"></input>
                        </label>
                        <label>4
                            <input type="radio" name="q8" value="4"></input>
                        </label>
                        <label>5 <span class="clarify-agree"><img src="/assets/images/thumbsUp.png"></span>
                            <input type="radio" name="q8" value="5"></input>
                        </label>
                    </div>
                </div>
                <hr />
                <!-- --------------------  QUESTION 9  --------------------- -->

                <div class="question">
                    <h4>Question 9:</h4>
                    <h5>
                        You're into working out and being physically fit.
                    </h5>
                    <div class="survey-buttons">
                        <label>1 <span class="clarify-agree"><img src="/assets/images/thumbsDown.png"></span>
                            <input type="radio" name="q9" value="1"></input>
                        </label>
                        <label>2
                            <input type="radio" name="q9" value="2"></input>
                        </label>
                        <label>3
                            <input type="radio" name="q9" value="3"></input>
                        </label>
                        <label>4
                            <input type="radio" name="q9" value="4"></input>
                        </label>
                        <label>5 <span class="clarify-agree"><img src="/assets/images/thumbsUp.png"></span>
                            <input type="radio" name="q9" value="5"></input>
                        </label>
                    </div>
                </div>
                <hr />
                <!-- --------------------  QUESTION 10  --------------------- -->

                <div class="question">
                    <h4>Question 10:</h4>
                    <h5>
                        You enjoy going out at night.
                    </h5>
                    <div class="survey-buttons">
                        <label>1 <span class="clarify-agree"><img src="/assets/images/thumbsDown.png"></span>
                            <input type="radio" name="q10" value="1"></input>
                        </label>
                        <label>2
                            <input type="radio" name="q10" value="2"></input>
                        </label>
                        <label>3
                            <input type="radio" name="q10" value="3"></input>
                        </label>
                        <label>4
                            <input type="radio" name="q10" value="4"></input>
                        </label>
                        <label>5 <span class="clarify-agree"><img src="/assets/images/thumbsUp.png"></span>
                            <input type="radio" name="q10" value="5"></input>
                        </label>
                    </div>
                </div>
                <hr />
                <!-- <a href="./friends.html"><input type = "submit" id="submit"></a> -->
                <button id="submit" type="submit">Submit</button>
            </form>

            <!-- --------------------  SUBMIT BUTTON   --------------------- -->

            <div id="validation-text"></div>
        </section>
    </div>
    <!-- --------------------  Modal   --------------------- -->
    <div class="modal" id=modal tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">SuperHero or Villain</h5>
                    <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button> -->
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="modal-content">

                </div>
                <div class="modal-footer">

                    <button type="button" id="close-button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- -------------------- FOOTER --------------------- -->
    <footer>
        <div class="footer-container">
            <a href="https://github.com/guthriet1230"><img id="github" src="/assets/images/Footer/GithubLogo.png" /></a>
            <a href="https://www.linkedin.com/in/tyler-guthrie-0a608857/"><img id="linkedin" src="/assets/images/Footer/LinkedinLogo.jpg" /></a>
            <a href="mailto:guthriet1230@gmail.com"><img id="gmail" src="/assets/images/Footer/GmailLogo.png" /></a>
        </div>
    </footer>


    <script type="text/javascript">
        $("#submit").on("click", function (event) {
            event.preventDefault();
            // console.log(if$("#name").val())
            // Validate
            // **********************************************************
            if (
                $("#name").val() === "" ||
                $("#photo").val() === "" ||
                $("input[name='q1']").val() === "" ||
                $("input[name='q2']").val() === "" ||
                $("input[name='q3']").val() === "" ||
                $("input[name='q4']").val() === "" ||
                $("input[name='q5']").val() === "" ||
                $("input[name='q6']").val() === "" ||
                $("input[name='q7']").val() === "" ||
                $("input[name='q8']").val() === "" ||
                $("input[name='q9']").val() === "" ||
                $("input[name='q10']").val() === ""
            ) {
                let p = $("<p>");
                p.text("Please complete the form and profile questions");
                $("#validation-text").append(p);
                // break;
            } else {

                var newProfile = {
                    name: $("#name").val().trim(),
                    photo: $("#photo").val().trim(),
                    scores: [
                        $("input[name='q1']:checked").val(),
                        $("input[name='q2']:checked").val(),
                        $("input[name='q3']:checked").val(),
                        $("input[name='q4']:checked").val(),
                        $("input[name='q5']:checked").val(),
                        $("input[name='q6']:checked").val(),
                        $("input[name='q7']:checked").val(),
                        $("input[name='q8']:checked").val(),
                        $("input[name='q9']:checked").val(),
                        $("input[name='q10']:checked").val()
                    ]
                };
                console.log(newProfile);

                /////////////////////////////////
                $.post("/api/friends", newProfile, function (data) {
                    console.log("Adding profile...");
                    // alert("Adding profile...");

                    // Clearing the form
                    $("#name").val("");
                    $("#photo").val("");
                    $("input[name='q1']").val(""),
                        $("input[name='q2']").val(""),
                        $("input[name='q3']").val(""),
                        $("input[name='q4']").val(""),
                        $("input[name='q5']").val(""),
                        $("input[name='q6']").val(""),
                        $("input[name='q7']").val(""),
                        $("input[name='q8']").val(""),
                        $("input[name='q9']").val(""),
                        $("input[name='q10']").val("")
                    console.log(data);
                    //post the values  
                    // if (data.length >1){
                    //     console.log("hello!")
                    // }


                    //  function getProfiles() {
                    let profileDisplay = $("<div>");
                    let p = $("<p>");
                    let profileImage = $("<img>");

                    p.text(data.name);
                    profileImage.attr("src", data.photo);
                    profileDisplay.append(profileImage);
                    profileDisplay.append(p);
                    console.log(profileDisplay);
                    $("#modal-content").prepend(profileDisplay);

                    //   }
                    $("#modal").show();
                    //end on click
                    //  getProfiles();

                });

            }



        });
        $("#close-button").on("click", function (event) {
            $("#modal").hide();
        });
    </script>

</body>

</html>